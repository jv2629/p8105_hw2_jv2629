---
title: "p8105_hw2_jv2629"
author: "Jaclyn Verity - jv2629"
date: "September 25, 2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

# Problem 1

## NYC Transit Data

**Read in and select desired variables.**
```{r read NYC}
NYC_data = read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv",
  col_types = cols_only(
    `Line` = col_character(),
    `Station Name` = col_character(),
    `Station Latitude` = col_double(),
    `Station Longitude` = col_double(),
    `Route1` = col_factor(NULL),
    `Route2` = col_factor(NULL),
    `Route3` = col_factor(NULL),
    `Route4` = col_factor(NULL),
    `Route5` = col_factor(NULL),
    `Route6` = col_factor(NULL),
    `Route7` = col_factor(NULL),
    `Route8` = col_factor(NULL),
    `Route9` = col_factor(NULL),
    `Route10` = col_factor(NULL),
    `Route11` = col_factor(NULL),
    `Entry` = col_factor(NULL),
    `Entrance Type` = col_factor(NULL),
    `Vending` = col_factor(NULL),
    `ADA` = col_logical()
  ))
```

## Clean NYC Data
```{r clean}
NYC_data = NYC_data %>% 
  janitor::clean_names() 
```

**Recoding entry variable.**
```{r recode, results= FALSE}
recode_factor(NYC_data[["entry"]], YES = TRUE, NO = FALSE, .default = NULL)
```

This data set, entitled NYC_data, contains information on NYC Metro Stations entrances and exits, including: name, location, type of entrance, if entrance is permited, whether a metro card could be purchased, and if the station is accessible by persons with disabilities. To render this data set I read it into my R Markdown document while simultaneoulsy restricting the data to the variables of interest and assigning their variable type. The resulting data contains 1,868 rows and 19 columns of data. These data are tidy because there are no categorizations that are columns. 

## Manipulating Data

**Creating a data set that consists of only the NYC stations, not all entrances and exits.** 
```{r manipulation_1}
NYC_stations = distinct(NYC_data, line, station_name, .keep_all =  TRUE)

NYC_stations
```

There are 465 unique metro stations in this data set. 


**Creating a data set for ADA compliance.** 
```{r manipulation_2}
NYC_ada = filter(NYC_stations, ada == TRUE)

NYC_ada
```

There are 84 metro stations in this data set that are ADA compliant. 


**Creating a data set that filters through vending and allowing entry.**
```{r manipulation_3}
NYC_vending = NYC_data %>% 
  filter(vending == "NO") %>% 
  filter(entry == "YES")

NYC_vending

```

In NYC, `r 69/1868` metro entrances/exits without vending allow entry. 



**Creating a data set that rearranges how routes are displayed.**
```{r gather}
NYC_route = gather(NYC_stations, key = route_number, value = route_name, route1:route11) 

NYC_route

filter(NYC_route, route_name == "A")

filter(NYC_route, route_name == "A", ada == "TRUE")

```

In NYC, 60 stations serve the A train, of which 17 are ADA compliant. 

